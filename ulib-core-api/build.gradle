dependencies {
    compileOnly 'commons-io:commons-io:2.8.0'
    shade 'commons-io:commons-io:2.8.0'
    compileOnly 'org.apache.commons:commons-configuration2:2.4'
    shade 'org.apache.commons:commons-configuration2:2.4'
    compileOnly 'org.apache.commons:commons-lang3:3.8.1'
    shade 'org.apache.commons:commons-lang3:3.8.1'

    compileOnly 'commons-beanutils:commons-beanutils:1.9.3'
    shade 'commons-beanutils:commons-beanutils:1.9.3'
    compileOnly 'commons-lang:commons-lang:2.6'
    shade 'commons-lang:commons-lang:2.6'
    compileOnly 'commons-codec:commons-codec:1.11'
    shade 'commons-codec:commons-codec:1.11'
    compileOnly 'com.google.guava:guava:27.0.1-jre'
    shade 'com.google.guava:guava:27.0.1-jre'
    compileOnly 'com.google.code.gson:gson:2.8.6'
    shade 'com.google.code.gson:gson:2.8.6'
    shade 'javax.mail:javax.mail-api:1.6.2'
    compileOnly 'com.sun.mail:smtp:1.6.3'
    shade 'com.sun.mail:smtp:1.6.3'
    compileOnly 'org.yaml:snakeyaml:1.23'
    shade 'org.yaml:snakeyaml:1.23'
    shade 'com.fasterxml.jackson.core:jackson-core:2.9.8'
    shade 'com.fasterxml.jackson.core:jackson-databind:2.9.8'

    compileOnly 'net.sf.jopt-simple:jopt-simple:6.0-alpha-3'

    compileOnly 'org.apache.httpcomponents:httpclient:4.5.10'
    shade 'org.apache.httpcomponents:httpclient:4.5.10'

    compileOnly 'org.fusesource.jansi:jansi:1.18'
    shade 'org.fusesource.jansi:jansi:1.18'

    compile files("${System.properties['java.home']}/../lib/tools.jar")
}

// publishing
javadoc {
    title "ulib-core ${jar.archiveVersion.get()} API"
    failOnError false
}

java {
    withSourcesJar()
    withJavadocJar()
}

publishing {
    publications {
        library(MavenPublication) {
            from components.java
        }
    }
    repositories {
        maven {
            url deployRepoUrl
            credentials(HttpHeaderCredentials) {
                name = deployRepoCredentialMethod
                value = deployRepoCredentialValue
            }
            authentication {
                header(HttpHeaderAuthentication)
            }
        }
    }
}

artifacts {
    archives sourcesJar
    archives javadocJar
}